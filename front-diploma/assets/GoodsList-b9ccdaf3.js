import{a as p,_ as v,u as V}from"./CountClicker-4db12542.js";import{e as _,o as t,c as a,a as l,u as c,t as m,f as g,g as f,d as y,i as k,F as C,r as $}from"./index-80a0829c.js";const b={class:"product-card"},h={class:"product-card-img"},x=["src","alt"],B={class:"product-card-title"},N={class:"product-card-price"},S={key:0},L={class:"product-card-cart"},P={__name:"ProductCard",props:{modelValue:{type:Object,required:!0}},setup(e){const d=e,u=_(()=>`/img/goods/${d.modelValue.id}.png`),r=p(),o=_({get:()=>r.itemInfo(d.modelValue.id),set:n=>r.setCount(d.modelValue.id,n)});return(n,s)=>(t(),a("div",b,[l("div",h,[l("img",{src:c(u),alt:e.modelValue.name},null,8,x)]),l("div",B,m(e.modelValue.name),1),l("div",N,[e.modelValue.oldPrice?(t(),a("s",S,m(e.modelValue.oldPrice)+" ₽",1)):g("",!0),f(" "+m(e.modelValue.price)+" ₽ ",1)]),l("div",L,[c(o)?(t(),y(v,{key:1,modelValue:c(o),"onUpdate:modelValue":s[1]||(s[1]=i=>k(o)?o.value=i:null)},null,8,["modelValue"])):(t(),a("button",{key:0,class:"add-to-cart",onClick:s[0]||(s[0]=i=>o.value++)},"В корзину"))])]))}};const G={class:"container-wrapper goods-list"},I={key:0,class:"text-center"},F={class:"container"},w={__name:"GoodsList",props:{category:{type:Number},count:{type:Number,default:3},button:{type:Boolean,default:!1},sale:{type:Boolean,default:!1}},setup(e){const d=e,u=V(),r=_(()=>u.getCategoryName(d.category));return(o,n)=>(t(),a("div",G,[c(r)?(t(),a("h2",I,m(c(r)),1)):g("",!0),l("div",F,[(t(!0),a(C,null,$(c(u).goodsList({categoryId:e.category,sale:e.sale}),(s,i)=>(t(),y(P,{"model-value":s,key:i},null,8,["model-value"]))),128))]),e.button?(t(),a("button",{key:1,class:"catalog-button",onClick:n[0]||(n[0]=s=>o.$router.push("/catalog"))}," В каталог ")):g("",!0)]))}};export{w as _};
